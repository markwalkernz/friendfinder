<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Survey</title>

	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Font Awesome Glyphicons -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

</head>
<body>

	<div class="container">

		<h2><b>Survey Questions</b></h2>
		<hr>

		<h3><b>About You</b></h3>
		<h4>Name (Required)</h4>
		<input type="text" id="name" class="form-control" required>

		<h4>Link to Photo Image (Required)</h4>
		<input type="text" id="photo" class="form-control" required>

		<hr>

		<h3><b>Question 1</b></h3>
		<h4>I prefer small towns to big cities.</h4>
	 	<select class="custom-select" id="q1">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h3><b>Question 2</b></h3>
		<h4>I enjoy spending time on my own.</h4>
	 	<select class="custom-select" id="q2">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h3><b>Question 3</b></h3>
		<h4>I usually take charge when a decision needs to be made.</h4>
	 	<select class="custom-select" id="q3">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h3><b>Question 4</b></h3>
		<h4>I would rather have a plan than take things as they come.</h4>
	 	<select class="custom-select" id="q4">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h3><b>Question 5</b></h3>
		<h4>I have lots of ideas and like to create new things.</h4>
	 	<select class="custom-select" id="q5">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h3><b>Question 6</b></h3>
		<h4>I react strongly when something upsets or annoys me.</h4>
	 	<select class="custom-select" id="q6">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h3><b>Question 7</b></h3>
		<h4>I'm very sensitive to other people's thoughts and feelings.</h4>
	 	<select class="custom-select" id="q7">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h3><b>Question 8</b></h3>
		<h4>I believe in doing the right thing, even if it may not be the best outcome for me personally.</h4>
	 	<select class="custom-select" id="q8">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h3><b>Question 9</b></h3>
		<h4>I go out of my way to help others.</h4>
	 	<select class="custom-select" id="q9">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h3><b>Question 10</b></h3>
		<h4>I'm always joking and trying to make things more fun.</h4>
	 	<select class="custom-select" id="q10">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<br>
		<br>

		<!-- Submit Button -->
		<button type="submit" class="btn btn-lg btn-primary" id="submit">Submit</button>

		<hr>

	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/markwalkernz/friendfinder">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>

	<!-- Modal -->
	<div id="matchModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">Ã—</button>
	        <h2 class="modal-title"><b>Best Match</b></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
	        <img id="matchPhoto" src="http://via.placeholder.com/150x150" alt="photo">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	</div>

  <script type="text/javascript">

    // Capture the form inputs 
    $("#submit").on("click", function(){

    	var isComplete = true;	// variable to track if all questions have been answered

    	// check if all questions have been answered
    	//TODO

		// If all required fields are filled
		if (isComplete == true) {

			// create an object with the users data
	    	var newFriend = {
	    		name: $("#name").val(),
	    		photo: $("#photo").val(),
	    		scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
	    	};

	    	// get the URL of the website
	    	var currentURL = window.location.origin;

	    	// post the new data
	    	$.post(currentURL + "/api/new", newFriend, function(response){

	    		// display the matching name and photo
	    		$("#matchName").text(response.name);
	    		$("#matchPhoto").attr("src", response.photo);

		    	// Show the modal
		    	$("#matchModal").modal('toggle');

	    	});
		}
		else {
			alert("Please answer all questions before submitting.");
		}; 	

    }); // end of submit function

  </script>


</body>
</html>